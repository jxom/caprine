'use strict';var getLatestRelease=function(a){return new Promise(function(b){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var f=JSON.parse(this.responseText),g=f.assets.filter(function(h){return h.name.includes(a)});b(g[0].browser_download_url)}},d.open('GET','https://api.github.com/repos/sindresorhus/caprine/releases/latest',!0),d.send()})},addDownloadURLToButton=function(a,b){return function(c){var d=document.createAttribute('href');d.value=c,b.setAttributeNode(d),a.appendChild(b)}},addDownloadButtonToDOM=function(){var a=navigator.userAgent.toLowerCase(),b=document.getElementById('caprine-body'),c=document.createElement('a'),d=document.createAttribute('class'),e=document.createTextNode('Download');d.value='button is-info is-outlined is-large',c.setAttributeNode(d),c.appendChild(e),a.match(/(mac|os x)/)?getLatestRelease('dmg').then(addDownloadURLToButton(b,c)):a.match(/windows/)?getLatestRelease('exe').then(addDownloadURLToButton(b,c)):a.match(/linux/)&&getLatestRelease('AppImage').then(addDownloadURLToButton(b,c))};addDownloadButtonToDOM();